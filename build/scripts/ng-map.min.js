angular.module("ngMap",[]),function(){"use strict";var isoDateRE=/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*)?)([zZ]|([+\-])(\d\d):?(\d\d))?$/,Attr2MapOptions=function($parse,$timeout,$log,NavigatorGeolocation,GeoCoder,camelCaseFilter,jsonizeFilter){var orgAttributes=function(t){t.length>0&&(t=t[0]);for(var e={},n=0;n<t.attributes.length;n++){var o=t.attributes[n];e[o.name]=o.value}return e},getJSON=function(t){var e=/^[\+\-]?[0-9\.]+,[ ]*\ ?[\+\-]?[0-9\.]+$/;return t.match(e)&&(t="["+t+"]"),JSON.parse(jsonizeFilter(t))},getLatLng=function(t){var e=t;return t[0].constructor==Array?e=t.map(function(t){return new google.maps.LatLng(t[0],t[1])}):!isNaN(parseFloat(t[0]))&&isFinite(t[0])&&(e=new google.maps.LatLng(e[0],e[1])),e},toOptionValue=function(input,options){var output;try{output=getNumber(input)}catch(err){try{var output=getJSON(input);if(output instanceof Array)output=output[0].constructor==Object?output:getLatLng(output);else if(output===Object(output)){var newOptions=options;newOptions.doNotConverStringToNumber=!0,output=getOptions(output,newOptions)}}catch(err2){if(input.match(/^[A-Z][a-zA-Z0-9]+\(.*\)$/))try{var exp="new google.maps."+input;output=eval(exp)}catch(e){output=input}else if(input.match(/^([A-Z][a-zA-Z0-9]+)\.([A-Z]+)$/))try{var matches=input.match(/^([A-Z][a-zA-Z0-9]+)\.([A-Z]+)$/);output=google.maps[matches[1]][matches[2]]}catch(e){output=input}else if(input.match(/^[A-Z]+$/))try{var capitalizedKey=options.key.charAt(0).toUpperCase()+options.key.slice(1);options.key.match(/temperatureUnit|windSpeedUnit|labelColor/)?(capitalizedKey=capitalizedKey.replace(/s$/,""),output=google.maps.weather[capitalizedKey][input]):output=google.maps[capitalizedKey][input]}catch(e){output=input}else if(input.match(isoDateRE))try{output=new Date(input)}catch(e){output=input}else output=input}}if("bounds"==options.key&&output instanceof Array&&(output=new google.maps.LatLngBounds(output[0],output[1])),"icons"==options.key&&output instanceof Array)for(var i=0;i<output.length;i++){var el=output[i];el.icon.path.match(/^[A-Z_]+$/)&&(el.icon.path=google.maps.SymbolPath[el.icon.path])}if("icon"==options.key&&output instanceof Object){(""+output.path).match(/^[A-Z_]+$/)&&(output.path=google.maps.SymbolPath[output.path]);for(var key in output){var arr=output[key];"anchor"==key||"origin"==key?output[key]=new google.maps.Point(arr[0],arr[1]):("size"==key||"scaledSize"==key)&&(output[key]=new google.maps.Size(arr[0],arr[1]))}}return output},getAttrsToObserve=function(t){var e=[];if(!t.noWatcher)for(var n in t){var o=t[n];o&&o.match(/\{\{.*\}\}/)&&e.push(camelCaseFilter(n))}return e},filter=function(t){var e={};for(var n in t)n.match(/^\$/)||n.match(/^ng[A-Z]/)||(e[n]=t[n]);return e},getOptions=function(t,e){var n={};for(var o in t)if(t[o]){if(o.match(/^on[A-Z]/))continue;if(o.match(/ControlOptions$/))continue;n[o]="string"!=typeof t[o]?t[o]:e&&e.doNotConverStringToNumber&&t[o].match(/^[0-9]+$/)?t[o]:toOptionValue(t[o],{key:o})}return n},getEvents=function(t,e){var n={},o=function(t){return"_"+t.toLowerCase()},i=function(e){var n=e.match(/([^\(]+)\(([^\)]*)\)/),o=n[1],i=n[2].replace(/event[ ,]*/,""),r=$parse("["+i+"]");return function(e){function n(t,e){return t[e]}var i=r(t),a=o.split(".").reduce(n,t);a&&a.apply(this,[e].concat(i)),$timeout(function(){t.$apply()})}};for(var r in e)if(e[r]){if(!r.match(/^on[A-Z]/))continue;var a=r.replace(/^on/,"");a=a.charAt(0).toLowerCase()+a.slice(1),a=a.replace(/([A-Z])/g,o);var s=e[r];n[a]=new i(s)}return n},getControlOptions=function(t){var e={};if("object"!=typeof t)return!1;for(var n in t)if(t[n]){if(!n.match(/(.*)ControlOptions$/))continue;var o=t[n],i=o.replace(/'/g,'"');i=i.replace(/([^"]+)|("[^"]+")/g,function(t,e,n){return e?e.replace(/([a-zA-Z0-9]+?):/g,'"$1":'):n});try{var r=JSON.parse(i);for(var a in r)if(r[a]){var s=r[a];if("string"==typeof s?s=s.toUpperCase():"mapTypeIds"===a&&(s=s.map(function(t){return t.match(/^[A-Z]+$/)?google.maps.MapTypeId[t.toUpperCase()]:t})),"style"===a){var c=n.charAt(0).toUpperCase()+n.slice(1),u=c.replace(/Options$/,"")+"Style";r[a]=google.maps[u][s]}else r[a]="position"===a?google.maps.ControlPosition[s]:s}e[n]=r}catch(p){}}return e};return{filter:filter,getOptions:getOptions,getEvents:getEvents,getControlOptions:getControlOptions,toOptionValue:toOptionValue,getAttrsToObserve:getAttrsToObserve,orgAttributes:orgAttributes}};Attr2MapOptions.$inject=["$parse","$timeout","$log","NavigatorGeolocation","GeoCoder","camelCaseFilter","jsonizeFilter"],angular.module("ngMap").service("Attr2MapOptions",Attr2MapOptions)}(),function(){"use strict";var t,e=function(e){var n=t.defer(),o=new google.maps.Geocoder;return o.geocode(e,function(t,e){e==google.maps.GeocoderStatus.OK?n.resolve(t):n.reject(e)}),n.promise},n=function(n){return t=n,{geocode:e}};n.$inject=["$q"],angular.module("ngMap").service("GeoCoder",n)}(),function(){"use strict";var t,e=function(e){var n=t.defer();return navigator.geolocation?(void 0===e?e={timeout:5e3}:void 0===e.timeout&&(e.timeout=5e3),navigator.geolocation.getCurrentPosition(function(t){n.resolve(t)},function(t){n.reject(t)},e)):n.reject("Browser Geolocation service failed."),n.promise},n=function(n){return t=n,{getCurrentPosition:e}};n.$inject=["$q"],angular.module("ngMap").service("NavigatorGeolocation",n)}(),function(){"use strict";var t,e,n,o,i,r,a,s={},c=function(t){var e=s[t||0];e.initializeMap()},u=function(e){function o(e){s[r]?i.resolve(s[r].map):e>a?i.reject("could not find map"):t.setTimeout(function(){o(e+100)},100)}e=e||{};var i=n.defer(),r=e.id||0,a=e.timeout||2e3;return o(0),i.promise},p=function(t){var e=Object.keys(s).length;s[t.id||e]=t},l=function(n,o){var i;return n.currentStyle?i=n.currentStyle[o]:t.getComputedStyle&&(i=e.defaultView.getComputedStyle(n,null).getPropertyValue(o)),i},g=function(t){var n=e.createElement("div"),o=t.getAttribute("default-style");return n.style.width="100%",n.style.height="100%","false"!==o&&("block"!=l(t,"display")&&(t.style.display="block"),t.style.height="300px"),n.addEventListener("dragstart",function(t){return t.preventDefault(),!1}),n},d=function(t,e){var i=n.defer();return!t||t.match(/^current/i)?o.getCurrentPosition(e).then(function(t){var e=t.coords.latitude,n=t.coords.longitude,o=new google.maps.LatLng(e,n);i.resolve(o)},function(t){i.reject(t)}):r.geocode({address:t}).then(function(t){i.resolve(t[0].geometry.location)},function(t){i.reject(t)}),i.promise},f=function(t,e){return function(n){if(n){var o=a("set-"+t),r=i.toOptionValue(n,{key:t});e[o]&&(t.match(/center|position/)&&"string"==typeof r?d(r).then(function(t){e[o](t)}):e[o](r))}}},v=function(s,v,m,y,h,O,M){return t=s,e=v[0],n=m,o=y,i=h,r=O,a=M,{addMap:p,getMap:u,initMap:c,getStyle:l,getNgMapDiv:g,getGeoLocation:d,observeAndSet:f}};v.$inject=["$window","$document","$q","NavigatorGeolocation","Attr2MapOptions","GeoCoder","camelCaseFilter"],angular.module("ngMap").service("NgMap",v)}(),function(){"use strict";var t,e=function(e,n){n=n||e.getCenter();var o=t.defer(),i=new google.maps.StreetViewService;return i.getPanoramaByLocation(n||e.getCenter,100,function(t,e){e===google.maps.StreetViewStatus.OK?o.resolve(t.location.pano):o.resolve(!1)}),o.promise},n=function(t,e){var n=new google.maps.StreetViewPanorama(t.getDiv(),{enableCloseButton:!0});n.setPano(e)},o=function(o){return t=o,{getPanorama:e,setPanorama:n}};o.$inject=["$q"],angular.module("ngMap").service("StreetView",o)}(),function(){"use strict";var t,e=function(e,o,i,r){r=r[0]||r[1];var a=t.orgAttributes(o),s=t.filter(i),c=t.getOptions(s),u=t.getEvents(e,s),p=n(c,u);r.addObject("bicyclingLayers",p),r.observeAttrSetObj(a,i,p),o.bind("$destroy",function(){r.deleteObject("bicyclingLayers",p)})},n=function(t,e){var n=new google.maps.BicyclingLayer(t);for(var o in e)google.maps.event.addListener(n,o,e[o]);return n},o=function(n){return t=n,{restrict:"E",require:["?^map","?^ngMap"],link:e}};o.$inject=["Attr2MapOptions"],angular.module("ngMap").directive("bicyclingLayer",o)}(),function(){"use strict";var t,e,n,o=function(o,i,r,a){a=a[0]||a[1];var s=t.filter(r),c=t.getOptions(s),u=t.getEvents(o,s),p=i[0].parentElement.removeChild(i[0]);e(p.innerHTML.trim())(o);for(var l in u)google.maps.event.addDomListener(p,l,u[l]);a.addObject("customControls",p),n.getMap().then(function(t){var e=c.position;t.controls[google.maps.ControlPosition[e]].push(p)})},i=function(i,r,a){return t=i,e=r,n=a,{restrict:"E",require:["?^map","?^ngMap"],link:o}};i.$inject=["Attr2MapOptions","$compile","NgMap"],angular.module("ngMap").directive("customControl",i)}(),function(){"use strict";var t,e,n,o,i=function(t){t=t||{},this.el=document.createElement("div"),this.el.style.display="inline-block",this.visible=!0;for(var e in t)this[e]=t[e]},r=function(){i.prototype=new google.maps.OverlayView,i.prototype.setContent=function(t,e){this.el.innerHTML=t,this.el.style.position="absolute",e&&n(angular.element(this.el).contents())(e)},i.prototype.setPosition=function(t){if(t&&(this.position=t),this.getProjection()&&"function"==typeof this.position.lng){var e=this.getProjection().fromLatLngToDivPixel(this.position),n=Math.round(e.x-this.el.offsetWidth/2),o=Math.round(e.y-this.el.offsetHeight-10);this.el.style.left=n+"px",this.el.style.top=o+"px"}},i.prototype.setZIndex=function(t){t&&(this.zIndex=t),this.el.style.zIndex=this.zIndex},i.prototype.setVisible=function(t){this.el.style.display=t?"inline-block":"none",this.visible=t},i.prototype.addClass=function(t){var e=this.el.className.trim().split(" ");-1==e.indexOf(t)&&e.push(t),this.el.className=e.join(" ")},i.prototype.removeClass=function(t){var e=this.el.className.split(" "),n=e.indexOf(t);n>-1&&e.splice(n,1),this.el.className=e.join(" ")},i.prototype.onAdd=function(){this.getPanes().overlayMouseTarget.appendChild(this.el)},i.prototype.draw=function(){this.setPosition(),this.setZIndex(this.zIndex),this.setVisible(this.visible)},i.prototype.onRemove=function(){this.el.parentNode.removeChild(this.el),this.el=null}},a=function(n,r){return function(a,s,c,u){u=u[0]||u[1];var p=t.filter(c),l=t.getOptions(p,a),g=t.getEvents(a,p),d=s[0].parentElement.removeChild(s[0]),f=new i(l);e(function(){a.$watch("["+r.join(",")+"]",function(){f.setContent(n,a)}),f.setContent(d.innerHTML,a);var t=d.firstElementChild.className;f.addClass("custom-marker"),f.addClass(t),l.position instanceof google.maps.LatLng||o.getGeoLocation(l.position).then(function(t){f.setPosition(t)})});for(var v in g)google.maps.event.addDomListener(f.el,v,g[v]);u.addObject("customMarkers",f),s.bind("$destroy",function(){u.deleteObject("customMarkers",f)})}},s=function(i,s,c,u){return t=c,e=i,n=s,o=u,r(),{restrict:"E",require:["?^map","?^ngMap"],compile:function(t){var e=t.html(),n=e.match(/{{([^}]+)}}/g),o=[];return(n||[]).forEach(function(t){var e=t.replace("{{","").replace("}}","");-1==t.indexOf("::")&&-1==t.indexOf("this.")&&-1==o.indexOf(e)&&o.push(t.replace("{{","").replace("}}",""))}),a(e,o)}}};s.$inject=["$timeout","$compile","Attr2MapOptions","NgMap"],angular.module("ngMap").directive("customMarker",s)}(),function(){"use strict";var t,e,n,o=new google.maps.DirectionsService,i=function(t,e){t.panel&&(t.panel=document.getElementById(t.panel)||document.querySelector(t.panel));var n=new google.maps.DirectionsRenderer(t);for(var o in e)google.maps.event.addListener(n,o,e[o]);return n},r=function(t,i){var r=i;r.travelMode=r.travelMode||"DRIVING";var a=["origin","destination","travelMode","transitOptions","unitSystem","durationInTraffic","waypoints","optimizeWaypoints","provideRouteAlternatives","avoidHighways","avoidTolls","region"];for(var s in r)-1===a.indexOf(s)&&delete r[s];r.waypoints&&("[]"==r.waypoints||""===r.waypoints)&&delete r.waypoints;var c=function(n){o.route(n,function(n,o){o==google.maps.DirectionsStatus.OK&&e(function(){t.setDirections(n)})})};r.origin&&r.destination&&("current-location"==r.origin?n.getCurrentPosition().then(function(t){r.origin=new google.maps.LatLng(t.coords.latitude,t.coords.longitude),c(r)}):"current-location"==r.destination?n.getCurrentPosition().then(function(t){r.destination=new google.maps.LatLng(t.coords.latitude,t.coords.longitude),c(r)}):c(r))},a=function(o,a,s,c){var u=o;t=c,e=a,n=s;var p=function(n,o,a,s){s=s[0]||s[1];var c=u.orgAttributes(o),p=u.filter(a),l=u.getOptions(p),g=u.getEvents(n,p),d=u.getAttrsToObserve(c),f=i(l,g);s.addObject("directionsRenderers",f),d.forEach(function(t){!function(t){a.$observe(t,function(n){if("panel"==t)e(function(){var t=document.getElementById(n)||document.querySelector(n);t&&f.setPanel(t)});else if(l[t]!==n){var o=u.toOptionValue(n,{key:t});l[t]=o,r(f,l)}})}(t)}),t.getMap().then(function(){r(f,l)}),o.bind("$destroy",function(){s.deleteObject("directionsRenderers",f)})};return{restrict:"E",require:["?^map","?^ngMap"],link:p}};a.$inject=["Attr2MapOptions","$timeout","NavigatorGeolocation","NgMap"],angular.module("ngMap").directive("directions",a)}(),function(){"use strict";angular.module("ngMap").directive("drawingManager",["Attr2MapOptions",function(t){var e=t;return{restrict:"E",require:["?^map","?^ngMap"],link:function(t,n,o,i){i=i[0]||i[1];var r=e.filter(o),a=e.getOptions(r),s=e.getControlOptions(r),c=e.getEvents(t,r),u=new google.maps.drawing.DrawingManager({drawingMode:a.drawingmode,drawingControl:a.drawingcontrol,drawingControlOptions:s.drawingControlOptions,circleOptions:a.circleoptions,markerOptions:a.markeroptions,polygonOptions:a.polygonoptions,polylineOptions:a.polylineoptions,rectangleOptions:a.rectangleoptions});for(var p in c)google.maps.event.addListener(u,p,c[p]);i.addObject("mapDrawingManager",u)}}}])}(),function(){"use strict";angular.module("ngMap").directive("dynamicMapsEngineLayer",["Attr2MapOptions",function(t){var e=t,n=function(t,e){var n=new google.maps.visualization.DynamicMapsEngineLayer(t);for(var o in e)google.maps.event.addListener(n,o,e[o]);return n};return{restrict:"E",require:["?^map","?^ngMap"],link:function(t,o,i,r){r=r[0]||r[1];var a=e.filter(i),s=e.getOptions(a),c=e.getEvents(t,a,c),u=n(s,c);r.addObject("mapsEngineLayers",u)}}}])}(),function(){"use strict";angular.module("ngMap").directive("fusionTablesLayer",["Attr2MapOptions",function(t){var e=t,n=function(t,e){var n=new google.maps.FusionTablesLayer(t);for(var o in e)google.maps.event.addListener(n,o,e[o]);return n};return{restrict:"E",require:["?^map","?^ngMap"],link:function(t,o,i,r){r=r[0]||r[1];var a=e.filter(i),s=e.getOptions(a),c=e.getEvents(t,a,c),u=n(s,c);r.addObject("fusionTablesLayers",u)}}}])}(),function(){"use strict";angular.module("ngMap").directive("heatmapLayer",["Attr2MapOptions","$window",function(t,e){var n=t;return{restrict:"E",require:["?^map","?^ngMap"],link:function(t,o,i,r){r=r[0]||r[1];var a=n.filter(i),s=n.getOptions(a);if(s.data=e[i.data]||t[i.data],!(s.data instanceof Array))throw"invalid heatmap data";s.data=new google.maps.MVCArray(s.data);{var c=new google.maps.visualization.HeatmapLayer(s);n.getEvents(t,a)}r.addObject("heatmapLayers",c)}}}])}(),function(){"use strict";var t=function(t,e,n,o,i){var r=t,a=function(t,o,i){var r;!t.position||t.position instanceof google.maps.LatLng||delete t.position,r=new google.maps.InfoWindow(t),Object.keys(o).length>0;for(var a in o)a&&google.maps.event.addListener(r,a,o[a]);var s=i.html().trim();if(1!=angular.element(s).length)throw"info-window working as a template must have a container";return r.__template=s.replace(/\s?ng-non-bindable[='"]+/,""),r.__open=function(t,o,i){n(function(){i&&(o.anchor=i);var n=e(r.__template)(o);r.setContent(n[0]),o.$apply(),i&&i.getPosition?r.open(t,i):i&&i instanceof google.maps.LatLng?(r.open(t),r.setPosition(i)):r.open(t)})},r},s=function(t,e,n,s){s=s[0]||s[1],e.css("display","none");var c,u=r.orgAttributes(e),p=r.filter(n),l=r.getOptions(p),g=r.getEvents(t,p);!l.position||l.position instanceof google.maps.LatLng||(c=l.position);var d=a(l,g,e);c&&i.getGeoLocation(c).then(function(e){d.setPosition(e),d.__open(s.map,t,e);var i=n.geoCallback;i&&o(i)(t)}),s.addObject("infoWindows",d),s.observeAttrSetObj(u,n,d),i.getMap().then(function(e){if(d.visible&&d.__open(e,t),d.visibleOnMarker){var n=d.visibleOnMarker;d.__open(e,t,e.markers[n])}e.showInfoWindow=e.showInfoWindow||function(e,n,o){var i="string"==typeof e?e:n,r="string"==typeof e?n:o,a=s.map.infoWindows[i],c=r?r:this.getPosition?this:null;a.__open(s.map,t,c),s.singleInfoWindow&&(s.lastInfoWindow&&t.hideInfoWindow(s.lastInfoWindow),s.lastInfoWindow=i)},e.hideInfoWindow=t.hideInfoWindow||function(t,e){var n="string"==typeof t?t:e,o=s.map.infoWindows[n];o.close()}})};return{restrict:"E",require:["?^map","?^ngMap"],link:s}};t.$inject=["Attr2MapOptions","$compile","$timeout","$parse","NgMap"],angular.module("ngMap").directive("infoWindow",t)}(),function(){"use strict";angular.module("ngMap").directive("kmlLayer",["Attr2MapOptions",function(t){var e=t,n=function(t,e){var n=new google.maps.KmlLayer(t);for(var o in e)google.maps.event.addListener(n,o,e[o]);return n};return{restrict:"E",require:["?^map","?^ngMap"],link:function(t,o,i,r){r=r[0]||r[1];var a=e.orgAttributes(o),s=e.filter(i),c=e.getOptions(s),u=e.getEvents(t,s),p=n(c,u);r.addObject("kmlLayers",p),r.observeAttrSetObj(a,i,p),o.bind("$destroy",function(){r.deleteObject("kmlLayers",p)})}}}])}(),function(){"use strict";angular.module("ngMap").directive("mapData",["Attr2MapOptions","NgMap",function(t,e){var n=t;return{restrict:"E",require:["?^map","?^ngMap"],link:function(t,o,i){var r=n.filter(i),a=n.getOptions(r),s=n.getEvents(t,r,s);e.getMap().then(function(e){for(var n in a){var o=a[n];"function"==typeof t[o]?e.data[n](t[o]):e.data[n](o)}for(var i in s)e.data.addListener(i,s[i])})}}}])}(),function(){"use strict";var t,e,n,o,i=function(n,i,r){var a=r.mapLazyLoadParams||r.mapLazyLoad;if(window.lazyLoadCallback=function(){t(function(){i.html(o),e(i.contents())(n)},100)},void 0===window.google||void 0===window.google.maps){var s=document.createElement("script");s.src=a+(a.indexOf("?")>-1?"&":"?")+"callback=lazyLoadCallback",document.body.appendChild(s)}else i.html(o),e(i.contents())(n)},r=function(t,e){return!e.mapLazyLoad&&void 0,o=t.html(),n=e.mapLazyLoad,document.querySelector('script[src="'+n+(n.indexOf("?")>-1?"&":"?")+'callback=lazyLoadCallback"]')?!1:(t.html(""),{pre:i})},a=function(n,o){return e=n,t=o,{compile:r}};a.$inject=["$compile","$timeout"],angular.module("ngMap").directive("mapLazyLoad",a)}(),function(){"use strict";angular.module("ngMap").directive("mapType",["$parse","NgMap",function(t,e){return{restrict:"E",require:["?^map","?^ngMap"],link:function(n,o,i,r){r=r[0]||r[1];var a,s=i.name;if(!s)throw"invalid map-type name";if(a=t(i.object)(n),!a)throw"invalid map-type object";e.getMap().then(function(t){t.mapTypes.set(s,a)}),r.addObject("mapTypes",a)}}}])}(),function(){"use strict";var t=function(){return{restrict:"AE",controller:"__MapController",conrollerAs:"ngmap"}};angular.module("ngMap").directive("map",[t]),angular.module("ngMap").directive("ngMap",[t])}(),function(){"use strict";angular.module("ngMap").directive("mapsEngineLayer",["Attr2MapOptions",function(t){var e=t,n=function(t,e){var n=new google.maps.visualization.MapsEngineLayer(t);for(var o in e)google.maps.event.addListener(n,o,e[o]);return n};return{restrict:"E",require:["?^map","?^ngMap"],link:function(t,o,i,r){r=r[0]||r[1];var a=e.filter(i),s=e.getOptions(a),c=e.getEvents(t,a,c),u=n(s,c);r.addObject("mapsEngineLayers",u)}}}])}(),function(){"use strict";var t,e,n,o=function(t,e){var n;t.position instanceof google.maps.LatLng||(t.position=new google.maps.LatLng(0,0)),n=new google.maps.Marker(t),Object.keys(e).length>0;for(var o in e)o&&google.maps.event.addListener(n,o,e[o]);return n},i=function(i,r,a,s){s=s[0]||s[1];var c,u=t.orgAttributes(r),p=t.filter(a),l=t.getOptions(p,i),g=t.getEvents(i,p);l.position instanceof google.maps.LatLng||(c=l.position);var d=o(l,g);s.addObject("markers",d),c&&n.getGeoLocation(c).then(function(t){d.setPosition(t),l.centered&&d.map.setCenter(t);var n=a.geoCallback;n&&e(n)(i)}),s.observeAttrSetObj(u,a,d),r.bind("$destroy",function(){s.deleteObject("markers",d)})},r=function(o,r,a){return t=o,e=r,n=a,{restrict:"E",require:["^?map","?^ngMap"],link:i}};r.$inject=["Attr2MapOptions","$parse","NgMap"],angular.module("ngMap").directive("marker",r)}(),function(){"use strict";angular.module("ngMap").directive("overlayMapType",["NgMap",function(t){return{restrict:"E",require:["?^map","?^ngMap"],link:function(e,n,o,i){i=i[0]||i[1];var r=o.initMethod||"insertAt",a=e[o.object];t.getMap().then(function(t){if("insertAt"==r){var e=parseInt(o.index,10);t.overlayMapTypes.insertAt(e,a)}else"push"==r&&t.overlayMapTypes.push(a)}),i.addObject("overlayMapTypes",a)}}}])}(),function(){"use strict";var t=function(t,e){var n=t,o=function(t,o,i,r){if("false"===i.placesAutoComplete)return!1;var a=n.filter(i),s=n.getOptions(a),c=n.getEvents(t,a),u=new google.maps.places.Autocomplete(o[0],s);for(var p in c)google.maps.event.addListener(u,p,c[p]);var l=function(){e(function(){r&&r.$setViewValue(o.val())},100)};google.maps.event.addListener(u,"place_changed",l),o[0].addEventListener("change",l),i.$observe("types",function(t){if(t){var e=n.toOptionValue(t,{key:"types"});u.setTypes(e)}})};return{restrict:"A",require:"?ngModel",link:o}};t.$inject=["Attr2MapOptions","$timeout"],angular.module("ngMap").directive("placesAutoComplete",t)}(),function(){"use strict";var t=function(t,e){var n,o=t.name;switch(delete t.name,o){case"circle":t.center instanceof google.maps.LatLng||(t.center=new google.maps.LatLng(0,0)),n=new google.maps.Circle(t);break;case"polygon":n=new google.maps.Polygon(t);break;case"polyline":n=new google.maps.Polyline(t);break;case"rectangle":n=new google.maps.Rectangle(t);break;case"groundOverlay":case"image":var i=t.url,r={opacity:t.opacity,clickable:t.clickable,id:t.id};n=new google.maps.GroundOverlay(i,t.bounds,r)}for(var a in e)e[a]&&google.maps.event.addListener(n,a,e[a]);return n},e=function(e,n,o){var i=e,r=function(e,r,a,s){s=s[0]||s[1];var c,u,p=i.orgAttributes(r),l=i.filter(a),g=i.getOptions(l),d=i.getEvents(e,l);u=g.name,g.center instanceof google.maps.LatLng||(c=g.center);var f=t(g,d);s.addObject("shapes",f),c&&"circle"==u&&o.getGeoLocation(c).then(function(t){f.setCenter(t),f.centered&&f.map.setCenter(t);var o=a.geoCallback;o&&n(o)(e)}),s.observeAttrSetObj(p,a,f),r.bind("$destroy",function(){s.deleteObject("shapes",f)})};return{restrict:"E",require:["?^map","?^ngMap"],link:r}};e.$inject=["Attr2MapOptions","$parse","NgMap"],angular.module("ngMap").directive("shape",e)}(),function(){"use strict";var t=function(t,e){var n=t,o=function(t,e,n){var o,i;e.container&&(i=document.getElementById(e.container),i=i||document.querySelector(e.container)),i?o=new google.maps.StreetViewPanorama(i,e):(o=t.getStreetView(),o.setOptions(e));for(var r in n)r&&google.maps.event.addListener(o,r,n[r]);return o},i=function(t,i,r){var a=n.filter(r),s=n.getOptions(a),c=n.getControlOptions(a),u=angular.extend(s,c),p=n.getEvents(t,a);e.getMap().then(function(t){var e=o(t,u,p);t.setStreetView(e),!e.getPosition()&&e.setPosition(t.getCenter()),google.maps.event.addListener(e,"position_changed",function(){e.getPosition()!==t.getCenter()&&t.setCenter(e.getPosition())});var n=google.maps.event.addListener(t,"center_changed",function(){e.setPosition(t.getCenter()),google.maps.event.removeListener(n)})})};return{restrict:"E",require:["?^map","?^ngMap"],link:i}};t.$inject=["Attr2MapOptions","NgMap"],angular.module("ngMap").directive("streetViewPanorama",t)}(),function(){"use strict";angular.module("ngMap").directive("trafficLayer",["Attr2MapOptions",function(t){var e=t,n=function(t,e){var n=new google.maps.TrafficLayer(t);for(var o in e)google.maps.event.addListener(n,o,e[o]);return n};return{restrict:"E",require:["?^map","?^ngMap"],link:function(t,o,i,r){r=r[0]||r[1];var a=e.orgAttributes(o),s=e.filter(i),c=e.getOptions(s),u=e.getEvents(t,s),p=n(c,u);r.addObject("trafficLayers",p),r.observeAttrSetObj(a,i,p),o.bind("$destroy",function(){r.deleteObject("trafficLayers",p)})}}}])}(),function(){"use strict";angular.module("ngMap").directive("transitLayer",["Attr2MapOptions",function(t){var e=t,n=function(t,e){var n=new google.maps.TransitLayer(t);for(var o in e)google.maps.event.addListener(n,o,e[o]);return n};return{restrict:"E",require:["?^map","?^ngMap"],link:function(t,o,i,r){r=r[0]||r[1];var a=e.orgAttributes(o),s=e.filter(i),c=e.getOptions(s),u=e.getEvents(t,s),p=n(c,u);r.addObject("transitLayers",p),r.observeAttrSetObj(a,i,p),o.bind("$destroy",function(){r.deleteObject("transitLayers",p)})}}}])}();